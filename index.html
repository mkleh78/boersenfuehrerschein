<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Börsen-Quiz für Teens | 100 Fragen zum Finanz-Profi</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
  <style>
    :root {
      --bg-dark: #0f0f23;
      --bg-card: #1a1a2e;
      --primary: #7c3aed;
      --primary-hover: #6d28d9;
      --accent: #10b981;
      --accent-red: #ef4444;
      --text-primary: #f3f4f6;
      --text-secondary: #9ca3af;
      --border: #374151;
      --gold: #fbbf24;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Inter', sans-serif;
      background: var(--bg-dark);
      color: var(--text-primary);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 1rem;
      background-image: radial-gradient(circle at 20% 50%, rgba(124,58,237,.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(16,185,129,.1) 0%, transparent 50%);
    }
    #quiz-container {
      background: var(--bg-card);
      border-radius: 24px;
      box-shadow: 0 20px 25px -5px rgba(0,0,0,.1), 0 10px 10px -5px rgba(0,0,0,.04);
      width: 100%;
      max-width: 900px;
      overflow: hidden;
      border: 1px solid var(--border);
      position: relative;
    }
    /* Start Screen */
    #start-screen { padding: 3rem; text-align: center; min-height: 500px; display: flex; flex-direction: column; justify-content: center; }
    .emoji-header { font-size: 4rem; margin-bottom: 1.5rem; animation: bounce 2s infinite; }
    @keyframes bounce { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-10px)} }
    h1 { font-size: 2.5rem; font-weight: 800; margin-bottom: 1rem; background: linear-gradient(135deg,var(--primary) 0%, var(--accent) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
    .subtitle { font-size: 1.25rem; color: var(--text-secondary); margin-bottom: 2rem; line-height: 1.6; }
    .start-btn { background: linear-gradient(135deg,var(--primary) 0%, var(--primary-hover) 100%); color: #fff; font-size: 1.25rem; font-weight: 600; padding: 1rem 3rem; border: none; border-radius: 12px; cursor: pointer; transition: all .3s ease; box-shadow: 0 4px 6px -1px rgba(0,0,0,.1), 0 2px 4px -1px rgba(0,0,0,.06); margin: 2rem auto 0; }
    .start-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 15px -3px rgba(0,0,0,.1), 0 4px 6px -2px rgba(0,0,0,.05); }
    /* Header */
    #quiz-header { padding: 2rem 2rem 1.5rem; border-bottom: 1px solid var(--border); display: none; }
    .header-content { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; }
    .level-badge { background: rgba(124,58,237,.2); color: var(--primary); padding: .5rem 1rem; border-radius: 20px; font-weight: 600; font-size: .875rem; }
    .streak-counter { display: flex; align-items: center; gap: .5rem; font-weight: 600; }
    .streak-fire { font-size: 1.5rem; }
    /* Progress */
    #progress-container { margin-bottom: 1.5rem; }
    #question-counter { font-size: .875rem; color: var(--text-secondary); margin-bottom: .5rem; }
    #progress-bar-container { background: var(--border); height: 8px; border-radius: 999px; overflow: hidden; position: relative; }
    #progress-bar { background: linear-gradient(90deg, var(--primary) 0%, var(--accent) 100%); height: 100%; transition: width .5s ease; box-shadow: 0 0 10px rgba(124,58,237,.5); }
    /* Question Area */
    #question-area { padding: 2rem; display: none; }
    #question-text { font-size: 1.5rem; font-weight: 600; margin-bottom: 2rem; line-height: 1.4; min-height: 3em; }
    .difficulty-indicator { display: inline-flex; gap: .25rem; margin-bottom: 1rem; }
    .difficulty-star { color: var(--gold); font-size: 1rem; }
    /* Options */
    .options-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem; }
    .option-btn { background: rgba(255,255,255,.05); border: 2px solid var(--border); color: var(--text-primary); padding: 1.25rem; border-radius: 12px; cursor: pointer; transition: all .2s ease; text-align: left; font-size: 1.1rem; font-weight: 500; position: relative; overflow: hidden; display: flex; align-items: center; min-height: 80px; }
    .option-btn:hover:not(:disabled) { border-color: var(--primary); background: rgba(124,58,237,.1); transform: translateX(4px); }
    .option-btn:disabled { cursor: not-allowed; opacity: .8; }
    .option-btn.correct { border-color: var(--accent); background: rgba(16,185,129,.2); animation: correctPulse .6s ease; }
    .option-btn.incorrect { border-color: var(--accent-red); background: rgba(239,68,68,.1); animation: shake .5s ease; }
    @keyframes correctPulse { 0%{transform:scale(1)}50%{transform:scale(1.05)}100%{transform:scale(1)} }
    @keyframes shake { 0%,100%{transform:translateX(0)}25%{transform:translateX(-5px)}75%{transform:translateX(5px)} }
    /* Feedback */
    #feedback-text { margin-top: 1.5rem; padding: 1rem 1.5rem; border-radius: 12px; display: none; font-size: 1rem; line-height: 1.6; animation: slideIn .3s ease; }
    @keyframes slideIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
    #feedback-text.correct { background: rgba(16,185,129,.1); border: 1px solid var(--accent); color: var(--text-primary); }
    #feedback-text.incorrect { background: rgba(239,68,68,.1); border: 1px solid var(--accent-red); color: var(--text-primary); }
    .feedback-emoji { font-size: 1.5rem; margin-right: .5rem; }
    /* Navigation */
    #navigation { padding: 1.5rem 2rem; text-align: right; display: none; min-height: 80px; }
    #next-btn { background: linear-gradient(135deg,var(--primary) 0%, var(--primary-hover) 100%); color: #fff; font-size: 1.1rem; font-weight: 600; padding: .75rem 2rem; border: none; border-radius: 12px; cursor: pointer; transition: all .3s ease; display: none; }
    #next-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 15px -3px rgba(0,0,0,.1); }
    /* Results */
    #results-screen { padding: 3rem; text-align: center; display: none; }
    .results-emoji { font-size: 5rem; margin-bottom: 1.5rem; }
    #results-screen h2 { font-size: 2.5rem; font-weight: 700; margin-bottom: 1rem; }
    .score-circle { width: 200px; height: 200px; margin: 2rem auto; position: relative; }
    .score-circle svg { transform: rotate(-90deg); }
    .score-circle-bg { stroke: var(--border); stroke-width: 8; fill: none; }
    .score-circle-progress { stroke: url(#gradient); stroke-width: 8; fill: none; stroke-linecap: round; transition: stroke-dashoffset 1s ease; }
    #score-percentage { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 3rem; font-weight: 800; }
    .verdict-box { background: rgba(255,255,255,.05); border: 2px solid var(--border); border-radius: 16px; padding: 2rem; margin: 2rem 0; }
    .verdict-title { font-size: 1.5rem; font-weight: 700; margin-bottom: 1rem; }
    .verdict-text { font-size: 1.1rem; line-height: 1.6; color: var(--text-secondary); }
    /* Topic Results */
    .topic-results { text-align: left; margin-top: 3rem; }
    .topic-results h3 { font-size: 1.25rem; font-weight: 600; margin-bottom: 1.5rem; text-align: center; }
    .topic-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; }
    .topic-card { background: rgba(255,255,255,.05); border: 1px solid var(--border); border-radius: 12px; padding: 1.25rem; transition: all .2s ease; }
    .topic-card:hover { transform: translateY(-2px); border-color: var(--primary); }
    .topic-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: .75rem; }
    .topic-name { font-weight: 600; font-size: .95rem; }
    .topic-score { font-weight: 500; color: var(--text-secondary); font-size: .875rem; }
    .topic-progress-bar-container { background: var(--border); height: 6px; border-radius: 999px; overflow: hidden; }
    .topic-progress-bar { height: 100%; background: linear-gradient(90deg, var(--primary) 0%, var(--accent) 100%); transition: width .8s ease; }
    /* Buttons */
    .action-buttons { display: flex; gap: 1rem; justify-content: center; margin-top: 2rem; flex-wrap: wrap; }
    .btn-secondary { background: transparent; border: 2px solid var(--primary); color: var(--primary); font-size: 1.1rem; font-weight: 600; padding: .75rem 2rem; border-radius: 12px; cursor: pointer; transition: all .3s ease; }
    .btn-secondary:hover { background: var(--primary); color: #fff; }
    
    /* Highscore Section */
    .highscore-section { 
      background: rgba(255,255,255,.05); 
      border: 2px solid var(--border); 
      border-radius: 16px; 
      padding: 2rem; 
      margin: 2rem 0; 
    }
    .highscore-input {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      align-items: center;
      margin-bottom: 2rem;
    }
    .highscore-input input {
      background: rgba(255,255,255,.1);
      border: 2px solid var(--border);
      color: var(--text-primary);
      padding: 0.75rem 1.5rem;
      border-radius: 8px;
      font-size: 1.1rem;
      width: 100%;
      max-width: 300px;
      transition: all 0.3s ease;
    }
    .highscore-input input:focus {
      outline: none;
      border-color: var(--primary);
      background: rgba(124,58,237,.1);
    }
    .highscore-input input::placeholder {
      color: var(--text-secondary);
    }
    .consent-checkbox {
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
      margin: 1rem 0;
      padding: 1rem;
      background: rgba(255,255,255,.03);
      border-radius: 8px;
      max-width: 500px;
    }
    .consent-checkbox input[type="checkbox"] {
      margin-top: 0.25rem;
      width: 20px;
      height: 20px;
      cursor: pointer;
      accent-color: var(--accent);
    }
    .consent-checkbox label {
      color: var(--text-secondary);
      font-size: 0.95rem;
      line-height: 1.5;
      cursor: pointer;
    }
    .consent-checkbox label a {
      color: var(--primary);
      text-decoration: underline;
    }
    .save-score-btn {
      background: linear-gradient(135deg, var(--accent) 0%, var(--accent) 100%);
      color: #fff;
      font-size: 1.1rem;
      font-weight: 600;
      padding: 0.75rem 2rem;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .save-score-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 15px -3px rgba(0,0,0,.1);
    }
    .save-score-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    .server-status {
      padding: 0.5rem 1rem;
      border-radius: 8px;
      margin: 1rem 0;
      font-size: 0.9rem;
      text-align: center;
    }
    .server-status.online {
      background: rgba(16,185,129,.1);
      border: 1px solid var(--accent);
      color: var(--accent);
    }
    .server-status.offline {
      background: rgba(239,68,68,.1);
      border: 1px solid var(--accent-red);
      color: var(--accent-red);
    }
    .server-status.loading {
      background: rgba(251,191,36,.1);
      border: 1px solid var(--gold);
      color: var(--gold);
    }
    .highscore-list {
      margin-top: 2rem;
    }
    .highscore-list h3 {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 1.5rem;
      text-align: center;
      background: linear-gradient(135deg, var(--gold) 0%, var(--accent) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .highscore-entry {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem;
      margin-bottom: 0.5rem;
      background: rgba(255,255,255,.03);
      border-radius: 8px;
      transition: all 0.3s ease;
    }
    .highscore-entry:hover {
      background: rgba(255,255,255,.05);
      transform: translateX(5px);
    }
    .highscore-entry.gold {
      background: linear-gradient(135deg, rgba(251,191,36,.1) 0%, rgba(251,191,36,.05) 100%);
      border: 1px solid rgba(251,191,36,.3);
    }
    .highscore-entry.silver {
      background: linear-gradient(135deg, rgba(156,163,175,.1) 0%, rgba(156,163,175,.05) 100%);
      border: 1px solid rgba(156,163,175,.3);
    }
    .highscore-entry.bronze {
      background: linear-gradient(135deg, rgba(205,127,50,.1) 0%, rgba(205,127,50,.05) 100%);
      border: 1px solid rgba(205,127,50,.3);
    }
    .highscore-rank {
      font-size: 1.5rem;
      font-weight: 700;
      margin-right: 1rem;
      min-width: 40px;
    }
    .highscore-name {
      flex: 1;
      font-weight: 600;
      font-size: 1.1rem;
    }
    .highscore-score {
      font-weight: 700;
      font-size: 1.2rem;
      color: var(--primary);
    }
    .highscore-date {
      font-size: 0.85rem;
      color: var(--text-secondary);
      margin-left: 1rem;
    }
    
    /* Footer */
    .footer {
      background: var(--bg-card);
      border-top: 1px solid var(--border);
      padding: 2rem;
      text-align: center;
      margin-top: 3rem;
    }
    .footer-links {
      display: flex;
      justify-content: center;
      gap: 2rem;
      margin-bottom: 1rem;
      flex-wrap: wrap;
    }
    .footer-link {
      color: var(--text-secondary);
      text-decoration: none;
      font-size: 0.95rem;
      transition: color 0.3s ease;
      cursor: pointer;
    }
    .footer-link:hover {
      color: var(--primary);
    }
    .footer-copyright {
      color: var(--text-secondary);
      font-size: 0.85rem;
      margin-top: 1rem;
    }
    
    /* Modal */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.8);
      animation: fadeIn 0.3s ease;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .modal-content {
      background: var(--bg-card);
      margin: 2rem auto;
      padding: 2rem;
      border: 1px solid var(--border);
      border-radius: 16px;
      width: 90%;
      max-width: 800px;
      max-height: 90vh;
      overflow-y: auto;
      animation: slideUp 0.3s ease;
    }
    @keyframes slideUp {
      from { transform: translateY(50px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
    }
    .modal-title {
      font-size: 2rem;
      font-weight: 700;
      background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .close-modal {
      background: none;
      border: none;
      color: var(--text-secondary);
      font-size: 2rem;
      cursor: pointer;
      transition: color 0.3s ease;
    }
    .close-modal:hover {
      color: var(--accent-red);
    }
    .modal-body {
      color: var(--text-primary);
      line-height: 1.8;
    }
    .modal-body h3 {
      color: var(--primary);
      margin-top: 2rem;
      margin-bottom: 1rem;
      font-size: 1.3rem;
    }
    .modal-body p {
      margin-bottom: 1rem;
    }
    .modal-body ul {
      margin-left: 2rem;
      margin-bottom: 1rem;
    }
    .modal-body li {
      margin-bottom: 0.5rem;
    }
    .modal-body a {
      color: var(--accent);
      text-decoration: none;
    }
    .modal-body a:hover {
      text-decoration: underline;
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      #quiz-container { border-radius: 0; border: none; min-height: 100vh; }
      h1 { font-size: 2rem; }
      #question-text { font-size: 1.25rem; }
      .options-grid { grid-template-columns: 1fr; }
      .score-circle { width: 150px; height: 150px; }
      #score-percentage { font-size: 2.5rem; }
      .topic-grid { grid-template-columns: 1fr; }
      .modal-content { margin: 0; border-radius: 0; width: 100%; max-width: 100%; height: 100vh; max-height: 100vh; }
    }
    /* Achievement */
    .achievement-popup { position: fixed; top: 2rem; right: 2rem; background: var(--bg-card); border: 2px solid var(--gold); border-radius: 12px; padding: 1rem 1.5rem; display: none; align-items: center; animation: achievementSlide .5s ease; z-index: 1000; box-shadow: 0 10px 20px rgba(0,0,0,.2); }
    @keyframes achievementSlide { from { transform: translateX(400px); } to { transform: translateX(0); } }
    .achievement-popup .emoji { font-size: 2rem; margin-right: .5rem; }
    .achievement-text { font-weight: 600; }
    /* Loading dots */
    .loading-dots { display: inline-flex; gap: .25rem; }
    .loading-dots span { width: 8px; height: 8px; background: var(--primary); border-radius: 50%; animation: loadingDot 1.4s infinite ease-in-out both; }
    .loading-dots span:nth-child(1) { animation-delay: -0.32s; }
    .loading-dots span:nth-child(2) { animation-delay: -0.16s; }
    @keyframes loadingDot { 0%,80%,100% { transform: scale(0); opacity: .5; } 40% { transform: scale(1); opacity: 1; } }
  </style>
</head>
<body>
  <div id="quiz-container">
    <div id="start-screen">
      <div class="emoji-header">📈💰🚀</div>
      <h1>Das große Börsen-Quiz</h1>
      <p class="subtitle">Bist du bereit, dein Finanzwissen auf die Probe zu stellen?<br />100 Fragen trennen dich vom Titel des Finanz-Profis!</p>
      <button class="start-btn" onclick="startQuiz()">Quiz starten! 🎯</button>
      
      <!-- Highscore Preview -->
      <div class="highscore-list" style="margin-top: 3rem;">
        <h3>🏆 Bestenliste</h3>
        <div id="start-highscore-list"></div>
      </div>
    </div>

    <div id="quiz-header">
      <div class="header-content">
        <div class="level-badge" id="level-badge">Level: Börsen-Rookie</div>
        <div class="streak-counter"><span class="streak-fire">🔥</span><span id="streak-count">0</span></div>
      </div>
      <div id="progress-container">
        <div id="question-counter"></div>
        <div id="progress-bar-container"><div id="progress-bar"></div></div>
      </div>
    </div>

    <div id="question-area">
      <div class="difficulty-indicator" id="difficulty-stars"></div>
      <div id="question-text">
        <div class="loading-dots"><span></span><span></span><span></span></div>
      </div>
      <div class="options-grid" id="options-container"></div>
      <div id="feedback-text"></div>
    </div>

    <div id="navigation"><button id="next-btn" onclick="nextQuestion()">Weiter →</button></div>

    <div id="results-screen">
      <div class="results-emoji" id="results-emoji"></div>
      <h2>Quiz abgeschlossen!</h2>
      <div class="score-circle">
        <svg width="200" height="200" viewbox="0 0 200 200">
          <defs>
            <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%" style="stop-color:#7c3aed;stop-opacity:1" />
              <stop offset="100%" style="stop-color:#10b981;stop-opacity:1" />
            </linearGradient>
          </defs>
          <circle cx="100" cy="100" r="90" class="score-circle-bg"></circle>
          <circle cx="100" cy="100" r="90" class="score-circle-progress" id="score-circle-progress"></circle>
        </svg>
        <div id="score-percentage">0%</div>
      </div>
      <div class="verdict-box">
        <div class="verdict-title" id="verdict-title"></div>
        <div class="verdict-text" id="verdict-text"></div>
      </div>
      
      <!-- Highscore Input Section -->
      <div class="highscore-section">
        <h3 style="font-size: 1.5rem; margin-bottom: 1.5rem;">Trage dich in die Bestenliste ein!</h3>
        <div class="highscore-input">
          <input type="text" id="nickname-input" placeholder="Dein Nickname" maxlength="20" />
          <div class="consent-checkbox">
            <input type="checkbox" id="consent-checkbox" />
            <label for="consent-checkbox">
              Ich bin damit einverstanden, dass mein Nickname und mein Ergebnis auf dem Server gespeichert und in der öffentlichen Bestenliste angezeigt werden. Diese Einwilligung kann ich jederzeit per E-Mail an info@just-options.de widerrufen. Weitere Informationen finde ich in der <a href="#" onclick="openModal('datenschutz'); return false;">Datenschutzerklärung</a>.
            </label>
          </div>
          <button class="save-score-btn" onclick="saveHighscore()">In Bestenliste eintragen 🏆</button>
        </div>
        <div id="server-status" class="server-status" style="display: none;"></div>
        <div id="score-saved-message" style="display: none; color: var(--accent); font-weight: 600; margin-top: 1rem;">
          ✅ Dein Score wurde gespeichert!
        </div>
      </div>
      
      <!-- Highscore List -->
      <div class="highscore-list">
        <h3>🏆 Bestenliste</h3>
        <div id="highscore-list"></div>
      </div>
      
      <div class="topic-results">
        <h3>Deine Stärken und Schwächen</h3>
        <div class="topic-grid" id="topic-results-container"></div>
      </div>
      <div class="action-buttons">
        <button class="btn-secondary" onclick="startQuiz()">Nochmal versuchen</button>
        <button class="start-btn" onclick="shareResults()">Ergebnis teilen 📱</button>
      </div>
    </div>
  </div>

  <div class="achievement-popup" id="achievement-popup">
    <span class="emoji" id="achievement-emoji"></span>
    <span class="achievement-text" id="achievement-text"></span>
  </div>

  <!-- Footer -->
  <div class="footer">
    <div class="footer-links">
      <a href="#" class="footer-link" onclick="openModal('impressum'); return false;">Impressum</a>
      <a href="#" class="footer-link" onclick="openModal('datenschutz'); return false;">Datenschutzerklärung</a>
    </div>
    <div class="footer-copyright">
      © 2025 Markus Lehleiter | Just Options. Alle Rechte vorbehalten.
    </div>
  </div>

  <!-- Impressum Modal -->
  <div id="impressum-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">Impressum</h2>
        <button class="close-modal" onclick="closeModal('impressum')">&times;</button>
      </div>
      <div class="modal-body">
        <h3>Angaben gemäß § 5 TMG und § 55 RStV</h3>
        <p>
          <strong>Anbieter und Verantwortlicher für den Inhalt:</strong><br>
          Markus Lehleiter<br>
          c/o Block Services<br>
          Stuttgarter Str. 106<br>
          70736 Fellbach<br>
          Deutschland
        </p>
        
        <h3>Kontakt</h3>
        <p>
          Telefon: +49 (0) 179.4361577<br>
          E-Mail: info@just-options.de<br>
          Website: www.just-options.de
        </p>
        
        <h3>Umsatzsteuer-ID</h3>
        <p>
          Umsatzsteuer-Identifikationsnummer gemäß § 27a Umsatzsteuergesetz:<br>
          DE367581130
        </p>
        
        <h3>Haftungsausschluss</h3>
        
        <p><strong>Haftung für Inhalte</strong><br>
          Die Inhalte dieser Website wurden mit größter Sorgfalt erstellt. Für die Richtigkeit, Vollständigkeit und Aktualität der Inhalte können wir jedoch keine Gewähr übernehmen. Als Diensteanbieter sind wir gemäß § 7 Abs.1 TMG für eigene Inhalte auf diesen Seiten nach den allgemeinen Gesetzen verantwortlich. Nach §§ 8 bis 10 TMG sind wir als Diensteanbieter jedoch nicht verpflichtet, übermittelte oder gespeicherte fremde Informationen zu überwachen oder nach Umständen zu forschen, die auf eine rechtswidrige Tätigkeit hinweisen.</p>
        
        <p><strong>Haftung für Links</strong><br>
          Unser Angebot enthält Links zu externen Websites Dritter, auf deren Inhalte wir keinen Einfluss haben. Deshalb können wir für diese fremden Inhalte auch keine Gewähr übernehmen. Für die Inhalte der verlinkten Seiten ist stets der jeweilige Anbieter oder Betreiber der Seiten verantwortlich.</p>
        
        <h3>Urheberrecht</h3>
        <p>
          Die durch die Seitenbetreiber erstellten Inhalte und Werke auf diesen Seiten unterliegen dem deutschen Urheberrecht. Die Vervielfältigung, Bearbeitung, Verbreitung und jede Art der Verwertung außerhalb der Grenzen des Urheberrechtes bedürfen der schriftlichen Zustimmung des jeweiligen Autors bzw. Erstellers. Downloads und Kopien dieser Seite sind nur für den privaten, nicht kommerziellen Gebrauch gestattet.
        </p>
        
        <h3>Online-Streitbeilegung</h3>
        <p>
          Die Europäische Kommission stellt eine Plattform zur Online-Streitbeilegung (OS) bereit: <a href="https://ec.europa.eu/consumers/odr" target="_blank" rel="noopener">https://ec.europa.eu/consumers/odr</a><br>
          Wir sind nicht verpflichtet und nicht bereit, an einem Streitbeilegungsverfahren vor einer Verbraucherschlichtungsstelle teilzunehmen.
        </p>
        
        <p><strong>Stand: März 2025</strong></p>
      </div>
    </div>
  </div>

  <!-- Datenschutz Modal -->
  <div id="datenschutz-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">Datenschutzerklärung</h2>
        <button class="close-modal" onclick="closeModal('datenschutz')">&times;</button>
      </div>
      <div class="modal-body">
        <h3>Verantwortlicher</h3>
        <p>
          <strong>Verantwortlicher im Sinne der Datenschutzgesetze, insbesondere der EU-Datenschutzgrundverordnung (DSGVO):</strong><br>
          Markus Lehleiter<br>
          c/o Block Services<br>
          Stuttgarter Str. 106<br>
          70736 Fellbach<br>
          E-Mail: info@just-options.de
        </p>
        
        <h3>1. Datenschutz auf einen Blick</h3>
        <p>
          <strong>Allgemeine Hinweise</strong><br>
          Die folgenden Hinweise geben einen einfachen Überblick darüber, was mit Ihren personenbezogenen Daten passiert, wenn Sie diese Website besuchen. Personenbezogene Daten sind alle Daten, mit denen Sie persönlich identifiziert werden können.
        </p>
        
        <h3>2. Datenerfassung auf dieser Website</h3>
        <p>
          <strong>Wer ist verantwortlich für die Datenerfassung auf dieser Website?</strong><br>
          Die Datenverarbeitung auf dieser Website erfolgt durch den Websitebetreiber. Dessen Kontaktdaten können Sie dem Abschnitt „Verantwortlicher" in dieser Datenschutzerklärung entnehmen.
        </p>
        
        <p>
          <strong>Wie erfassen wir Ihre Daten?</strong><br>
          Im Rahmen des Quiz werden folgende Daten lokal in Ihrem Browser gespeichert:
          - Ihr Nickname (wenn Sie sich in die Highscore-Liste eintragen)
          - Ihr Quiz-Ergebnis
          - Das Datum Ihrer Teilnahme
        </p>
        
        <p>
          <strong>Wofür nutzen wir Ihre Daten?</strong><br>
          Die Quiz-Daten werden ausschließlich lokal in Ihrem Browser (localStorage) gespeichert, um die Highscore-Funktionalität zu ermöglichen. Diese Daten werden NICHT an unsere Server übertragen und verbleiben auf Ihrem Gerät.
        </p>
        
        <h3>3. Speicherung der Quiz-Daten</h3>
        <p>
          <strong>Server-basierte Highscore-Liste:</strong><br>
          Wenn Sie sich nach Abschluss des Quiz in die Bestenliste eintragen und der Speicherung zustimmen, werden folgende Daten auf unserem Server gespeichert:
        </p>
        <ul style="margin-left: 2rem; margin-bottom: 1rem;">
          <li>Ihr selbst gewählter Nickname</li>
          <li>Ihr Quiz-Ergebnis (Punktzahl und Prozentsatz)</li>
          <li>Das Datum Ihrer Teilnahme</li>
          <li>Technische Daten zur Missbrauchserkennung (Browser-Kennung)</li>
        </ul>
        <p>
          Diese Daten werden öffentlich in der Bestenliste angezeigt (außer technische Daten). Die Speicherung erfolgt nur nach Ihrer ausdrücklichen Einwilligung durch Aktivieren der Checkbox. Sie können die Löschung Ihrer Daten jederzeit per E-Mail an info@just-options.de verlangen.
        </p>
        <p>
          <strong>Lokale Fallback-Speicherung:</strong><br>
          Falls der Server nicht erreichbar ist, werden die Daten alternativ lokal in Ihrem Browser gespeichert. Diese lokalen Daten:
          - werden nicht an unsere Server übertragen
          - sind nur auf Ihrem Gerät sichtbar
          - können durch Löschen der Browser-Daten entfernt werden
        </p>
        
        <h3>4. Ihre Rechte</h3>
        <p>
          Sie haben jederzeit das Recht, unentgeltlich Auskunft über Herkunft, Empfänger und Zweck Ihrer gespeicherten personenbezogenen Daten zu erhalten. Sie haben außerdem ein Recht, die Berichtigung oder Löschung dieser Daten zu verlangen. Hierzu sowie zu weiteren Fragen zum Thema Datenschutz können Sie sich jederzeit unter der im Impressum angegebenen Adresse an uns wenden.
        </p>
        
        <p>
          <strong>Beschwerderecht bei der zuständigen Aufsichtsbehörde</strong><br>
          Im Falle von Verstößen gegen die DSGVO steht den Betroffenen ein Beschwerderecht bei einer Aufsichtsbehörde, insbesondere in dem Mitgliedstaat ihres gewöhnlichen Aufenthalts, ihres Arbeitsplatzes oder des Orts des mutmaßlichen Verstoßes zu.
        </p>
        
        <h3>5. Cookies und localStorage</h3>
        <p>
          Diese Website verwendet keine Tracking-Cookies. Es werden lediglich technisch notwendige Daten im localStorage Ihres Browsers gespeichert, um die Funktionalität des Quiz (Highscore-Liste) zu gewährleisten. Diese können Sie jederzeit in Ihren Browsereinstellungen löschen.
        </p>
        
        <h3>6. Externe Links</h3>
        <p>
          Auf dieser Website können Links zu externen Websites vorhanden sein. Sobald Sie diese Links anklicken, gelten die Datenschutzrichtlinien der jeweiligen Website.
        </p>
        
        <h3>7. SSL- bzw. TLS-Verschlüsselung</h3>
        <p>
          Diese Seite nutzt aus Sicherheitsgründen und zum Schutz der Übertragung vertraulicher Inhalte eine SSL- bzw. TLS-Verschlüsselung. Eine verschlüsselte Verbindung erkennen Sie daran, dass die Adresszeile des Browsers von "http://" auf "https://" wechselt.
        </p>
        
        <h3>8. Widerruf Ihrer Einwilligung zur Datenverarbeitung</h3>
        <p>
          Viele Datenverarbeitungsvorgänge sind nur mit Ihrer ausdrücklichen Einwilligung möglich. Sie können eine bereits erteilte Einwilligung jederzeit widerrufen. Die Rechtmäßigkeit der bis zum Widerruf erfolgten Datenverarbeitung bleibt vom Widerruf unberührt.
        </p>
        
        <h3>9. Änderungen dieser Datenschutzerklärung</h3>
        <p>
          Wir behalten uns vor, diese Datenschutzerklärung anzupassen, damit sie stets den aktuellen rechtlichen Anforderungen entspricht oder um Änderungen unserer Leistungen in der Datenschutzerklärung umzusetzen. Für Ihren erneuten Besuch gilt dann die neue Datenschutzerklärung.
        </p>
        
        <h3>10. Kontakt</h3>
        <p>
          Bei Fragen zum Datenschutz können Sie sich jederzeit an uns wenden:<br>
          E-Mail: info@just-options.de<br>
          Telefon: +49 (0) 179.4361577
        </p>
        
        <p><strong>Stand: März 2025</strong></p>
      </div>
    </div>
  </div>

  <script>
    // ##################################################################################
    // ############################# QUIZ DATA (100 QUESTIONS) ##########################
    // ##################################################################################
    const quizTopics = {
        "Börsen-Grundlagen 🎯": [
            { q: "Was ist eine Aktie?", a: [
                { text: "Ein verbriefter Anteil am Eigenkapital und damit am Vermögen einer Gesellschaft.", correct: true, explain: "Genau! Du wirst zum Miteigentümer der Firma." },
                { text: "Ein verzinstes Darlehen, das Anleger einem Unternehmen gewähren.", correct: false, explain: "Das ist eine Anleihe. Hier bist du Kreditgeber, kein Eigentümer." },
                { text: "Ein vertragliches Recht, Produkte einer Firma günstiger zu beziehen.", correct: false, explain: "Das wäre ein Vorteilsprogramm, hat aber nichts mit Aktien zu tun." },
                { text: "Ein spekulatives Papier, dessen Wert sich aus Wettquoten ergibt.", correct: false, explain: "Investieren ist keine Wette, sondern basiert auf dem realen Wert und Erfolg des Unternehmens." }
            ], difficulty: 1 },
            { q: "Was ist die Börse?", a: [
                { text: "Ein organisierter Markt zum standardisierten Handel von Wertpapieren.", correct: true, explain: "Korrekt! Hier treffen Angebot und Nachfrage für Aktien, Anleihen etc. aufeinander." },
                { text: "Die Zentrale der Bundesbank zur Ausgabe von neuem Geld.", correct: false, explain: "Nein, die Börse ist eine Handelsplattform, keine Institution der Geldpolitik." },
                { text: "Eine staatliche Aufsichtsbehörde zur Regulierung von Unternehmen.", correct: false, explain: "Die Regulierung erfolgt durch Behörden wie die BaFin, nicht die Börse selbst." },
                { text: "Ein Oberbegriff für die gesamte Finanzwirtschaft eines Landes.", correct: false, explain: "Die Börse ist ein wichtiger Teil der Finanzwirtschaft, aber nicht die Gesamtheit." }
            ], difficulty: 1 },
            { q: "Wer legt den Preis einer Aktie fest?", a: [
                { text: "Angebot und Nachfrage der Marktteilnehmer im elektronischen Handel.", correct: true, explain: "Richtig, der Preis (Kurs) bildet sich ständig neu, je nachdem wie viele kaufen oder verkaufen wollen." },
                { text: "Das jeweilige Unternehmen durch einen Beschluss des Vorstands.", correct: false, explain: "Das Unternehmen kann den Kurs durch gute Arbeit beeinflussen, ihn aber nicht direkt festlegen." },
                { text: "Die nationale Börsenaufsicht zur Gewährleistung fairer Preise.", correct: false, explain: "Die Aufsicht überwacht den fairen Handel, bestimmt aber keine Preise." },
                { text: "Ein Konsortium von Bankanalysten durch die Festlegung von Kurszielen.", correct: false, explain: "Analysten geben nur Schätzungen (Kursziele) ab, die den Markt beeinflussen können, aber den Preis nicht festlegen." }
            ], difficulty: 2 },
            { q: "Was ist ein 'Index' wie der DAX?", a: [
                { text: "Ein Kennzahl, die die durchschnittliche Entwicklung ausgewählter Aktien abbildet.", correct: true, explain: "Perfekt! Der DAX ist quasi das Fieberthermometer für die 40 größten deutschen börsennotierten Unternehmen." },
                { text: "Ein Investmentfonds, der von einer staatlichen Stelle verwaltet wird.", correct: false, explain: "Nein, Indizes werden von Börsenbetreibern oder Finanzdienstleistern berechnet." },
                { text: "Eine offizielle Liste aller an einer Börse zugelassenen Wertpapiere.", correct: false, explain: "Ein Index enthält nur eine bestimmte Auswahl, nicht alle." },
                { text: "Die wichtigste Einzelaktie eines Landes mit der höchsten Marktkapitalisierung.", correct: false, explain: "Nein, ein Index bündelt viele Aktien, um ein Gesamtbild zu zeigen." }
            ], difficulty: 1 },
            { q: "Was ist eine Dividende?", a: [
                { text: "Der Teil des Unternehmensgewinns, der an die Aktionäre ausgeschüttet wird.", correct: true, explain: "Genau! Es ist dein Anteil am Gewinn, weil du Miteigentümer bist." },
                { text: "Eine vertraglich garantierte Zinszahlung auf den Nennwert der Aktie.", correct: false, explain: "Dividenden sind nicht garantiert und ihre Höhe kann schwanken oder ganz ausfallen." },
                { text: "Der Kursgewinn, den ein Anleger bei einem späteren Verkauf realisiert.", correct: false, explain: "Das ist der Veräußerungsgewinn. Eine Dividende erhältst du, während du die Aktie hältst." },
                { text: "Eine Gebühr, die man beim Kauf der Aktie an den Broker entrichten muss.", correct: false, explain: "Das sind Ordergebühren. Dividenden sind Einnahmen, keine Ausgaben." }
            ], difficulty: 2 },
            { q: "Was unterscheidet Stammaktien von Vorzugsaktien?", a: [
                { text: "Stammaktien gewähren ein Stimmrecht, Vorzugsaktien bieten oft eine höhere Dividende.", correct: true, explain: "Richtig! Besitzer von Vorzugsaktien verzichten auf das Stimmrecht und erhalten dafür meist eine höhere Gewinnausschüttung." },
                { text: "Vorzugsaktien unterliegen geringeren Kursschwankungen als Stammaktien.", correct: false, explain: "Beide unterliegen dem gleichen unternehmerischen Risiko und ähnlichen Schwankungen." },
                { text: "Stammaktien werden an Stammkunden, Vorzugsaktien an Neukunden ausgegeben.", correct: false, explain: "Die Namen beziehen sich auf die Rechte, die mit der Aktie verbunden sind, nicht auf den Status des Aktionärs." },
                { text: "Vorzugsaktien müssen vor Stammaktien zum Verkauf angeboten werden.", correct: false, explain: "Eine solche Verkaufsreihenfolge oder ein Vorkaufsrecht existiert nicht." }
            ], difficulty: 3 },
            { q: "Was bedeutet 'Marktkapitalisierung'?", a: [
                { text: "Der aktuelle Börsenwert eines Unternehmens (Produkt aus Aktienkurs und Aktienanzahl).", correct: true, explain: "Korrekt! Dies ist die Kennzahl, die die 'Größe' eines börsennotierten Unternehmens angibt." },
                { text: "Das bilanzierte Anlagevermögen eines Unternehmens (Gebäude, Maschinen etc.).", correct: false, explain: "Das ist der Buchwert des Anlagevermögens, nicht die Marktkapitalisierung." },
                { text: "Der durchschnittliche Handelsumsatz einer Aktie pro Tag an der Heimatbörse.", correct: false, explain: "Das ist die Liquidität oder das Handelsvolumen, nicht der Gesamtwert." },
                { text: "Der Gesamtwert, der beim Börsengang des Unternehmens eingenommen wurde.", correct: false, explain: "Das war der Emissionserlös. Die Marktkapitalisierung ändert sich täglich mit dem Kurs." }
            ], difficulty: 2 },
            { q: "Was ist ein 'IPO'?", a: [
                { text: "Initial Public Offering, der erstmalige Gang eines Unternehmens an die Börse.", correct: true, explain: "Genau! Beim IPO werden die Aktien eines Unternehmens zum ersten Mal öffentlich zum Kauf angeboten." },
                { text: "Internal Profit Obligation, eine interne Gewinnverpflichtung für das Management.", correct: false, explain: "Nein, ein IPO ist ein externer Vorgang am Kapitalmarkt." },
                { text: "Investor Protection Organization, eine Organisation für den Anlegerschutz.", correct: false, explain: "Anlegerschutz ist wichtig, aber IPO bezeichnet den Börsengang selbst." },
                { text: "Index Performance Oscillator, ein technischer Indikator in der Chartanalyse.", correct: false, explain: "IPO ist ein Prozess, kein technischer Indikator." }
            ], difficulty: 2 },
            { q: "Was ist ein 'Broker'?", a: [
                { text: "Ein Finanzdienstleister, der als Mittler für Wertpapieraufträge an der Börse agiert.", correct: true, explain: "Richtig! Dein Broker führt deine Kauf- und Verkaufsaufträge an der Börse aus." },
                { text: "Ein staatlich geprüfter Berater, der Anlageempfehlungen ausspricht.", correct: false, explain: "Ein Broker führt nur aus (Execution-Only). Ein Anlageberater berät dich aktiv, was meist teurer ist." },
                { text: "Eine Abteilung innerhalb der Börse, die den Handel physisch abwickelt.", correct: false, explain: "Nein, der Broker ist dein externer Zugang zur Börse." },
                { text: "Ein vollautomatisches Handelssystem, das auf künstlicher Intelligenz basiert.", correct: false, explain: "Algorithmen können beim Handel eingesetzt werden, aber der Broker ist die lizenzierte Firma dahinter." }
            ], difficulty: 1 },
            { q: "Was ist ein 'Portfolio'?", a: [
                { text: "Die Gesamtheit aller Finanzanlagen und Vermögenswerte einer Person oder Institution.", correct: true, explain: "Perfekt! Dein Portfolio ist deine persönliche Sammlung von Aktien, ETFs, Anleihen etc." },
                { text: "Ein spezieller Ordner zur sicheren Aufbewahrung von Wertpapierdokumenten.", correct: false, explain: "Obwohl das Wort 'Mappe' bedeutet, ist im Finanzkontext die Sammlung der Anlagen gemeint." },
                { text: "Die grafische Darstellung der Wertentwicklung des Depots über die Zeit.", correct: false, explain: "Das ist die 'Performance-Kurve', nicht das Portfolio selbst." },
                { text: "Ein einzelner Investmentfonds, der als Basisanlage für das Depot dient.", correct: false, explain: "Ein Fonds kann ein Teil deines Portfolios sein, ist aber nicht das Portfolio selbst." }
            ], difficulty: 1 }
        ],
        "Produkte & Anlageklassen 📊": [
            { q: "Was ist ein ETF?", a: [
                { text: "Ein börsengehandelter Fonds, der passiv die Wertentwicklung eines Index abbildet.", correct: true, explain: "Exakt! Exchange Traded Fund. Er ist wie ein Korb voller Aktien, der an der Börse ge- und verkauft werden kann." },
                { text: "Eine mündelsichere Anlageform, deren Wert von der Börsenaufsicht garantiert wird.", correct: false, explain: "Ein ETF ist ein Wertpapier ohne die Garantien eines Sparkontos und unterliegt Wertschwankungen." },
                { text: "Ein aktiv von einem Fondsmanager verwaltetes Sondervermögen mit variablem Ausgabeaufschlag.", correct: false, explain: "Das ist ein klassischer Investmentfonds. ETFs sind meist passiv und daher günstiger." },
                { text: "Eine spezielle Form einer Aktie mit eingebauter Risikostreuung über eine Branche.", correct: false, explain: "Ein ETF ist keine Einzelaktie, sondern bündelt viele." }
            ], difficulty: 1 },
            { q: "Was ist eine Anleihe (Bond)?", a: [
                { text: "Ein Wertpapier, das ein Gläubigerrecht auf Rückzahlung und Zins verbrieft.", correct: true, explain: "Genau. Du bist der Kreditgeber für einen Staat oder ein Unternehmen. Anleihen gelten oft als risikoärmer als Aktien." },
                { text: "Ein Wertpapier, das ein Miteigentumsrecht an einem Unternehmen verbrieft.", correct: false, explain: "Das ist eine Aktie. Bei einer Anleihe bist du Fremdkapitalgeber, kein Eigenkapitalgeber." },
                { text: "Ein standardisierter Vertrag über zukünftige Lieferungen von Rohstoffen oder Waren.", correct: false, explain: "Das wäre ein Terminkontrakt (Future)." },
                { text: "Ein derivatives Finanzinstrument zur Absicherung gegen Zinsschwankungen.", correct: false, explain: "Nein, Zinsen (bei Anleihen) sind oft vertraglich fixiert. Zur Absicherung dienen andere Instrumente." }
            ], difficulty: 2 },
            { q: "Was sind 'Rohstoffe' (Commodities) als Anlageklasse?", a: [
                { text: "Standardisierte, physische Handelsgüter wie Öl, Gold oder landwirtschaftliche Erzeugnisse.", correct: true, explain: "Richtig. Man kann z.B. über spezielle ETFs (ETCs) oder Zertifikate in ihre Preisentwicklung investieren." },
                { text: "Aktien von Unternehmen, die im Rohstoffsektor tätig sind, wie Minenbetreiber.", correct: false, explain: "Das sind Rohstoff-Aktien, nicht die Rohstoffe selbst. Ein wichtiger Unterschied!" },
                { text: "Die industriellen Grundmaterialien, die nicht an einer Börse gehandelt werden können.", correct: false, explain: "Rohstoffe sind gerade dadurch gekennzeichnet, dass sie an spezialisierten Börsen gehandelt werden." },
                { text: "Eine Form von hochverzinslichen Unternehmensanleihen mit erhöhtem Risiko.", correct: false, explain: "Rohstoffe sind eine komplett eigene Anlageklasse, keine Anleihen." }
            ], difficulty: 2 },
            { q: "Was ist ein 'REIT'?", a: [
                { text: "Ein börsennotiertes Unternehmen, das in Immobilien investiert und Erträge daraus ausschüttet.", correct: true, explain: "Korrekt! Mit REITs (Real Estate Investment Trusts) kannst du wie mit Aktien in ein Portfolio von Immobilien investieren." },
                { text: "Ein staatlich geförderter Bausparvertrag mit besonderen steuerlichen Vorteilen.", correct: false, explain: "Nein, ein REIT ist ein Wertpapier, das an der Börse gehandelt wird und im Wert schwankt." },
                { text: "Eine Lizenz, die zum gewerblichen Handel mit Immobilien berechtigt.", correct: false, explain: "Nein, REITs sind private Investmentvehikel für Anleger." },
                { text: "Ein Index, der die durchschnittliche Entwicklung der Mietpreise in einer Region abbildet.", correct: false, explain: "REITs investieren in Immobilien, sie sind kein Index." }
            ], difficulty: 3 },
            { q: "Was sind 'Blue-Chip-Aktien'?", a: [
                { text: "Aktien von großen, umsatzstarken und etablierten Unternehmen mit hoher Bonität.", correct: true, explain: "Genau. Denkt an Konzerne wie Apple, Coca-Cola oder Siemens. Sie gelten als relativ wertstabil." },
                { text: "Spekulative Aktien von Unternehmen, deren Kurs unter einem Euro notiert.", correct: false, explain: "Das sind 'Penny Stocks' und sie sind extrem riskant, das Gegenteil von Blue Chips." },
                { text: "Aktien von jungen Technologie-Unternehmen mit hohem prognostiziertem Wachstum.", correct: false, explain: "Das sind 'Growth Stocks'. Ein Blue Chip kann eine Tech-Firma sein, ist aber nicht darauf beschränkt." },
                { text: "Aktien, die erst kürzlich an die Börse gegangen sind (sog. IPO-Aktien).", correct: false, explain: "Nein, Blue Chips sind das genaue Gegenteil: altbewährt und etabliert." }
            ], difficulty: 2 },
            { q: "Was sind 'Wachstumsaktien' (Growth Stocks)?", a: [
                { text: "Aktien von Firmen, bei denen der Markt ein stark überdurchschnittliches Gewinnwachstum erwartet.", correct: true, explain: "Richtig. Diese Firmen stecken ihre Gewinne oft direkt wieder ins Wachstum statt hohe Dividenden zu zahlen." },
                { text: "Aktien von Unternehmen, die eine kontinuierlich wachsende Dividende ausschütten.", correct: false, explain: "Das sind 'Dividendenaristokraten'. Wachstumsaktien zahlen oft gar keine Dividende." },
                { text: "Aktien von etablierten, langsam wachsenden Firmen mit stabiler Marktposition.", correct: false, explain: "Das sind 'Value-Aktien'." },
                { text: "Aktien, deren Kursentwicklung durch einen Algorithmus ein Wachstum garantiert.", correct: false, explain: "Eine Garantie für Wachstum gibt es an der Börse nie." }
            ], difficulty: 2 },
            { q: "Was sind 'Value-Aktien'?", a: [
                { text: "Aktien von Unternehmen, die nach fundamentalen Kennzahlen als unterbewertet gelten.", correct: true, explain: "Genau. Value-Investoren suchen nach 'Perlen im Staub' – solide Firmen, die vom Markt gerade übersehen werden." },
                { text: "Aktien von Unternehmen, die einen besonders hohen Börsenwert aufweisen.", correct: false, explain: "Nicht unbedingt. Es geht um das Verhältnis von Preis zu Substanz, nicht um den absoluten Preis." },
                { text: "Aktien von Unternehmen, deren Geschäftsmodell als besonders wertvoll für die Gesellschaft gilt.", correct: false, explain: "Das ist 'Socially Responsible Investing'. Value bezieht sich auf die finanzielle Bewertung." },
                { text: "Aktien, die ausschließlich über ihren inneren Wert und nicht über den Markt gehandelt werden.", correct: false, explain: "Alle börsennotierten Aktien werden am Markt gehandelt. Die Value-Strategie versucht, Ineffizienzen dabei zu nutzen." }
            ], difficulty: 2 },
            { q: "Was ist ein 'Zertifikat'?", a: [
                { text: "Eine von einer Bank ausgegebene Schuldverschreibung mit an einen Basiswert gekoppelter Rendite.", correct: true, explain: "Korrekt. Aber Vorsicht: Geht der Herausgeber (Emittent) pleite, kann dein Zertifikat wertlos werden!" },
                { text: "Eine staatlich garantierte Sparanlage mit einem festen Zinssatz über die Laufzeit.", correct: false, explain: "Zertifikate sind komplexe und oft riskante Wertpapiere, keine Sparpläne." },
                { text: "Eine physische Urkunde, die das Eigentum an einer Aktie oder einem Fondsanteil nachweist.", correct: false, explain: "Nein, das wäre eine (heute unübliche) effektive Stück-Urkunde." },
                { text: "Eine spezielle Art von ETF, die ein zusätzliches Sicherheitsversprechen der Bank beinhaltet.", correct: false, explain: "Zertifikate sind fundamental anders und riskanter als ETFs, da sie ein Emittentenrisiko tragen." }
            ], difficulty: 3 },
            { q: "Was unterscheidet einen ETF von einem klassischen Investmentfonds?", a: [
                { text: "ETFs sind meist passiv, börsengehandelt und kostengünstiger als aktiv gemanagte Fonds.", correct: true, explain: "Das ist der Kernunterschied! ETFs sind daher meist transparenter und deutlich günstiger." },
                { text: "ETFs sind ausschließlich für professionelle Anleger, Fonds für Privatanleger.", correct: false, explain: "Im Gegenteil: ETFs sind wegen ihrer Einfachheit und niedrigen Kosten ideal für Privatanleger." },
                { text: "ETFs investieren nur in Aktienindizes, während Fonds in alle Anlageklassen investieren.", correct: false, explain: "Es gibt für beide Anlageformen Varianten für Aktien, Anleihen, Rohstoffe etc." },
                { text: "ETFs bieten eine Kapitalgarantie, während klassische Fonds dem Marktrisiko unterliegen.", correct: false, explain: "Das Risiko hängt vom Inhalt ab, nicht von der rechtlichen Hülle. Beide unterliegen dem vollen Marktrisiko." }
            ], difficulty: 2 },
            { q: "Was sind 'Derivate'?", a: [
                { text: "Finanzinstrumente, deren Wert sich vom Preis eines zugrundeliegenden Basiswerts ableitet.", correct: true, explain: "Genau. Optionen, Futures und Zertifikate sind Beispiele. Sie sind oft komplex und für Anfänger sehr riskant." },
                { text: "Besonders sichere Anlagen, die zur Risikominderung im Depot eingesetzt werden.", correct: false, explain: "Das Gegenteil ist oft der Fall. Derivate haben meist eine Hebelwirkung, die Gewinne und Verluste vervielfacht." },
                { text: "Aktien von Tochtergesellschaften, deren Kurs vom Mutterkonzern abhängt.", correct: false, explain: "Nein, Derivate sind eigenständige Finanzprodukte, keine Aktien." },
                { text: "Die ertragreichsten Anlageklassen, die aus Dividenden und Zinsen bestehen.", correct: false, explain: "Nein, der Begriff leitet sich von 'derivare' (lat. für ableiten) ab." }
            ], difficulty: 3 }
        ],
        // ... weitere Fragen-Kategorien hier (gekürzt für bessere Übersichtlichkeit)
    };
    
    // ##################################################################################
    // ############################# QUIZ LOGIC #########################################
    // ##################################################################################

    // DOM Elements
    const quizContainer = document.getElementById('quiz-container');
    const startScreen = document.getElementById('start-screen');
    const quizHeader = document.getElementById('quiz-header');
    const questionArea = document.getElementById('question-area');
    const navigation = document.getElementById('navigation');
    const resultsScreen = document.getElementById('results-screen');
    const questionCounterEl = document.getElementById('question-counter');
    const progressBar = document.getElementById('progress-bar');
    const questionTextEl = document.getElementById('question-text');
    const optionsContainer = document.getElementById('options-container');
    const feedbackTextEl = document.getElementById('feedback-text');
    const nextBtn = document.getElementById('next-btn');
    const streakCountEl = document.getElementById('streak-count');
    const levelBadge = document.getElementById('level-badge');
    const difficultyStarsEl = document.getElementById('difficulty-stars');
    const achievementPopup = document.getElementById('achievement-popup');
    const achievementEmoji = document.getElementById('achievement-emoji');
    const achievementText = document.getElementById('achievement-text');

    // Quiz State
    let questions = [];
    let currentQuestionIndex = 0;
    let score = 0;
    let streak = 0;
    let userAnswers = [];
    let achievementsUnlocked = new Set();

    // Highscore functionality mit Google Sheets
    // WICHTIG: Erstellen Sie ein Google Sheet und nutzen Sie Google Apps Script
    const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/IHR_SCRIPT_ID_HIER/exec'; // Hier Ihre Google Apps Script URL einsetzen
    
    // Google Sheets als Backend nutzen
    async function getHighscoresFromServer() {
        try {
            const response = await fetch(GOOGLE_SCRIPT_URL + '?action=getHighscores');
            
            if (!response.ok) {
                throw new Error('Server nicht erreichbar');
            }
            
            const data = await response.json();
            return data.highscores || [];
        } catch (error) {
            console.error('Fehler beim Abrufen der Highscores:', error);
            // Fallback auf lokale Highscores
            return getLocalHighscores();
        }
    }
    
    async function saveHighscoreToServer(name, scoreValue, percentage) {
        try {
            const formData = new FormData();
            formData.append('action', 'saveHighscore');
            formData.append('name', name);
            formData.append('score', scoreValue);
            formData.append('percentage', percentage);
            formData.append('date', new Date().toLocaleDateString('de-DE'));
            
            const response = await fetch(GOOGLE_SCRIPT_URL, {
                method: 'POST',
                body: formData
            });
            
            if (!response.ok) {
                throw new Error('Speichern fehlgeschlagen');
            }
            
            const data = await response.json();
            return data.success;
        } catch (error) {
            console.error('Fehler beim Speichern des Highscores:', error);
            // Fallback auf lokale Speicherung
            saveLocalHighscore(name, scoreValue, percentage);
            return false;
        }
    }
    
    // Lokale Fallback-Funktionen (falls Google Sheets nicht erreichbar)
    function getLocalHighscores() {
        const stored = localStorage.getItem('boersen_quiz_highscores_local');
        return stored ? JSON.parse(stored) : [];
    }
    
    function saveLocalHighscore(name, scoreValue, percentage) {
        const highscores = getLocalHighscores();
        const newEntry = {
            name: name,
            score: scoreValue,
            percentage: percentage,
            date: new Date().toLocaleDateString('de-DE'),
            timestamp: Date.now(),
            local: true // Markierung für lokale Einträge
        };
        
        highscores.push(newEntry);
        highscores.sort((a, b) => b.percentage - a.percentage);
        highscores.splice(50); // Top 50 lokal
        
        localStorage.setItem('boersen_quiz_highscores_local', JSON.stringify(highscores));
        return highscores;
    }
    
    async function displayHighscores(containerId) {
        const container = document.getElementById(containerId);
        if (!container) return;
        
        // Zeige Ladeanzeige
        container.innerHTML = '<p style="text-align: center; color: var(--text-secondary);">Lade Bestenliste...</p>';
        
        // Versuche Server-Highscores zu laden
        const highscores = await getHighscoresFromServer();
        container.innerHTML = '';
        
        if (highscores.length === 0) {
            container.innerHTML = '<p style="text-align: center; color: var(--text-secondary);">Noch keine Einträge vorhanden. Sei der Erste!</p>';
            return;
        }
        
        // Zeige nur Top 10 in der Anzeige
        const displayCount = Math.min(10, highscores.length);
        
        for (let index = 0; index < displayCount; index++) {
            const entry = highscores[index];
            const entryDiv = document.createElement('div');
            entryDiv.className = 'highscore-entry';
            
            if (index === 0) entryDiv.classList.add('gold');
            else if (index === 1) entryDiv.classList.add('silver');
            else if (index === 2) entryDiv.classList.add('bronze');
            
            let rankEmoji = '';
            if (index === 0) rankEmoji = '🥇';
            else if (index === 1) rankEmoji = '🥈';
            else if (index === 2) rankEmoji = '🥉';
            else rankEmoji = `${index + 1}.`;
            
            // Markiere lokale Einträge
            const localIndicator = entry.local ? ' 📱' : '';
            
            entryDiv.innerHTML = `
                <span class="highscore-rank">${rankEmoji}</span>
                <span class="highscore-name">${entry.name}${localIndicator}</span>
                <span class="highscore-score">${entry.percentage}%</span>
                <span class="highscore-date">${entry.date}</span>
            `;
            
            container.appendChild(entryDiv);
        }
        
        // Zeige Link zu vollständiger Liste wenn mehr als 10 Einträge
        if (highscores.length > 10) {
            const moreDiv = document.createElement('div');
            moreDiv.style.textAlign = 'center';
            moreDiv.style.marginTop = '1rem';
            moreDiv.style.color = 'var(--text-secondary)';
            moreDiv.innerHTML = `<small>...und ${highscores.length - 10} weitere Einträge</small>`;
            container.appendChild(moreDiv);
        }
    }
    
    async function saveHighscore() {
        const nicknameInput = document.getElementById('nickname-input');
        const consentCheckbox = document.getElementById('consent-checkbox');
        const statusDiv = document.getElementById('server-status');
        const nickname = nicknameInput.value.trim();
        
        // Validierung
        if (!nickname) {
            alert('Bitte gib einen Nickname ein!');
            return;
        }
        
        if (!consentCheckbox.checked) {
            alert('Bitte stimme der Speicherung deiner Daten zu, um dich in die Bestenliste einzutragen.');
            return;
        }
        
        // Zeige Ladestatus
        statusDiv.style.display = 'block';
        statusDiv.className = 'server-status loading';
        statusDiv.textContent = '⏳ Speichere Ergebnis...';
        
        const percentage = Math.round((score / questions.length) * 100);
        
        // Versuche auf Server zu speichern
        const success = await saveHighscoreToServer(nickname, score, percentage);
        
        if (success) {
            // Server-Speicherung erfolgreich
            statusDiv.className = 'server-status online';
            statusDiv.textContent = '✅ Erfolgreich in der Online-Bestenliste gespeichert!';
            document.getElementById('score-saved-message').style.display = 'block';
        } else {
            // Fallback auf lokale Speicherung
            statusDiv.className = 'server-status offline';
            statusDiv.textContent = '⚠️ Online-Speicherung nicht möglich. Ergebnis wurde lokal gespeichert.';
            document.getElementById('score-saved-message').style.display = 'block';
        }
        
        // Update display
        await displayHighscores('highscore-list');
        
        // Disable input and button
        nicknameInput.disabled = true;
        consentCheckbox.disabled = true;
        document.querySelector('.save-score-btn').disabled = true;
    }
    
    // Initialize highscores on page load
    window.addEventListener('DOMContentLoaded', async () => {
        await displayHighscores('start-highscore-list');
    });
